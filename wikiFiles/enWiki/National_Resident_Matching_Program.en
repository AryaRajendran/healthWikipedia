The '''National Resident Matching Program (NRMP)''' (or '''the Match''')<ref>[http://www.nrmp.org/ NRMP homepage] Retrieved on June 23, 2010</ref> is a [[United States]]-based private [[non-profit]] [[non-governmental organization]] created in 1952 to help match [[Medical education in the United States|medical school]] students with [[residency (medicine)|residency]] programs. The NRMP is sponsored by the [[American Board of Medical Specialties]] (ABMS), the [[American Medical Association]] (AMA), the [[Association of American Medical Colleges]] (AAMC), the [[American Hospital Association]] (AHA), and the Council of Medical Specialty Societies (CMSS).[[Image:2007ACGME-2.PNG|thumb|250px|right|Applicants in the 2007 NRMP]]
[[Image:2007ACGME-3.PNG|thumb|250px|right|Successful matches in the 2007 NRMP]]

== History ==
The National Resident Match Program began in 1952<ref name="NRMPabout">http://www.nrmp.org/about_nrmp/index.html</ref> in response to dissatisfaction with the process and results of matching applicants to residency programs via the decentralized, competitive market.<ref name="Roth">{{cite journal|last=Roth|first=Alvin|coauthors=Elliott Peranson|title=The Redesign of the Matching Market for American Physicians: Some Engineering Aspects of Economic Design|journal=The American Economic Review|year=1999|month=September|volume=89|issue=4|pages=748–780|url=http://www.bepress.com/cgi/viewcontent.cgi?article=1016&context=wilson|accessdate=14 October 2010}}</ref>  From shortly after the first residency programs were formally introduced, the hiring process was "characterized by intense competition among hospitals for (an inadequate supply) of interns."<ref name="Gusfield3">{{cite book|last=Gusfield|first=Dan|title=The Stable Marriage Problem: Structure and Algorithms|year=1989|publisher=The MIT Press|isbn=0-262-07118-5|pages=3–4|coauthors=Robert W. Irving|chapter=1.1.1}}
: Description of market based on {{cite journal|last=Roth|first=A.E.|title=The evolution of the labor market for medical interns and residents: a case study in game theory|journal=Journal of Political Economy|year=1984|issue=92|pages=991–1016}}</ref> In general, hospitals benefited from filling their positions as early as possible, and applicants benefited from delaying acceptance of positions.  The combination of these factors lead to offers being made for positions up to two years in advance.  While efforts made to delay the start of the application process were somewhat effective, they ultimately resulted in very short deadlines for responses by applicants, and the opportunities for dissatisfaction on the part of both applicants and hospitals remained.<ref name="Gusfield3"/> The students in 1951 protested against the originally proposed matching algorithm, and objected to the hospital-optimal nature of the proposed algorithm.<ref>Medical seniors hit interne plan. New York Times 1951; 22 Oct:25 (col. 1).</ref><ref>Shiller JG. An alum recalls the first matching plan. P&S: The Journal of the College of Physicians & Surgeons of Columbia University 1985; 5:29.</ref><ref>Williams KJ. A reexamination of the NRMP matching algorithm. Acad Med 1995; 70:470-476.</ref> The NRMP stated that students from 1951 objected to an algorithm that gave them incentives to misrepresent their true preferences.<ref>Peranson E, Randlett R. Comments on Williams' "A reexamination of the NRMP matching algorithm". Acad Med. 1995;70:490-494. (footnote at the bottom of page 492)</ref>

A publication in 1962 by Gale & Shapley noted that there always exists a stable solution when colleges are matching with students, but that it is possible to favor colleges as a group over applicants as a group (and vice-versa).<ref name=galesharpley1962>Gale D, Shapley LS. College admissions and the stability of marriage. American Mathematics Monthly. 1962;69:9-15.</ref> That is, Gale & Shapley found that there is a college-optimal stable match and an applicant-optimal stable match.<ref name=galesharpley1962/>

Controversy arose regarding whether the program was susceptible to manipulation or unreasonably fair to employers.<ref name="Roth748">Roth "Redesign" 748</ref>  Indeed, it was shown that in simple cases (i.e. those that exclude couples, second-year programs, and special cases for handling unfilled slots) that had multiple "stable" matchings, the algorithm would return the solution that was best for the hospitals and worst for the applicants.<ref name="Robinson">{{cite journal|last=Robinson|first=Sara|title=Are Medical Students Meeting Their (Best Possible) Match?|journal=SIAM News|year=2003|month=April|issue=3|pages=36|url=http://www.siam.org/pdf/news/305.pdf|accessdate=14 October 2010}}</ref><ref>Gusfield "Stable Marriage" 64 references {{cite journal|last=Roth|first=A.E.|title=The evolution of the labor market for medical interns and residents: a case study in game theory|journal=Journal of Political Economy|year=1984|issue=92|pages=991–1016}} as proving that the pre-1995 algorithm is essentially the hospital-optimal algorithm described in Gusfield 39.  Gusfield 41 demonstrates that the hospital-optimal algorithm is also applicant-pessimal.</ref>  It was also susceptible to collusion on the part of hospitals: if hospitals were to organize their preference lists properly, the result returned would be completely unaffected of the preference lists of the residents. A correspondence in [[New England Journal of Medicine]] in 1981 recognized that the algorithm in use was hospital-optimal for individual applicants,<ref>Williams KJ, Werth VP, Wolff JA. An analysis of the resident match. N Engl J Med. 1981;304:1165-1166; correspondence in N Engl J Med. 1981;305:526</ref> in direct contradiction to the NRMP's published statements.<ref>{{cite pmid| 7786366}}</ref><ref>NIRMP Directory. Evanston, Illinois: National Intern and Resident Matching Program; 1979.</ref> The promotional NRMP literature was revised to remove the detailed, step-by-step description of their algorithm that had been there before.<ref>{{cite pmid|7786366}}, comparing the following NRMP descriptions:
*NIRMP Directory. Evanston, Illinois: National Intern and Resident Matching Program; 1979.
*NRMP Directory. Evanston, Illinois: National Resident Matching Program; 1983.</ref>

Later researchers, such as Marilda Sotomayor in 1983, Alvin Roth in 1984, and Klaus et al. in 2007, found that when couples are allowed to match together, there may exist no stable matching.<ref>Roth AE. The evolution of the labor market for medical interns and residents: a case study in game theory. Journal of Political Economy 1984; 92:991-1016.</ref><ref>Klaus B, Klijn F, Massó J. Some things couples always wanted to knowabout stable matchings (but were afraid to ask). Review of Economic Design 2007; 11:175-184.</ref>

A small, independent match for Ophthalmology switched to an updated algorithm as announced in February 1996,<ref>Colenbrander A. Ophthalmology match heeds students' concerns. AUPO flyer, February 1996</ref><ref>Williams KJ. Examining the NRMP algorithm. Acad Med 1996; 71:310-312.</ref><ref>Colenbrander A. Match algorithms revisited. Acad Med 1996; 71:414-415.</ref> and may have served as a prototype and incitement for the NRMP to update the algorithm.

Despite many indications for updating the NRMP algorithm, it saw only minor and incremental changes after its institution in 1952 until 1997.<ref name="Gusfield3"/><ref name="Roth749" /> However, in the fall of 1995 the Board of Directors of the NRMP commissioned a preliminary research program for the evaluation of the current algorithm and of changes to be considered in its operation and description,<ref>[http://web.archive.org/web/19961221144319/http://www.pitt.edu/~alroth/nrmp.html Evaluation of changes to be considered in the NRMP algorithm], by Alvin E. Roth. October 24, 1995</ref> and a study comparing a new algorithm with the existing one.<ref name="Roth749">Roth "Redesign" 749</ref>  The new algorithm was adopted in May 1997 and has been in use since its first application in March 1998,<ref name="Roth749" /> although the study showed that the net effect of the change on actual matches has been minimal.<ref>Roth "Redesign" 752, 760</ref>

== Matching algorithm ==
The problem of matching hospitals to residents is a generalization of the [[stable marriage problem]]; and, as a result, the solutions to the two problems are very similar. A simplified version of the algorithm that is used to perform the match is described on the [http://www.nrmp.org/res_match/about_res/algorithms.html NRMP website]. However, this description does not describe the handling of couples (pairs of applicants who wish to stay in the same geographic location), second-year positions, or special handling of residency positions that remain unfilled. The full algorithm is described in {{cite journal|last=Roth|first=Alvin|coauthors=Elliott Peranson|title=The Redesign of the Matching Market for American Physicians: Some Engineering Aspects of Economic Design|journal=The American Economic Review|year=1999|month=September|volume=89|issue=4|pages=756–757|url=http://www.bepress.com/cgi/viewcontent.cgi?article=1016&context=wilson|accessdate=14 October 2010}}

=== Inputs ===
Senior medical students usually begin the application process at the beginning of their (usually) fourth and final year in medical school. After they apply to programs, programs review applications and invite selected candidates for interviews held between October and February. After the interview period is over, the applicants and programs each compile "rank-ordered lists".  For programs, this is a list of applicants in order from most to least preferable.  Similarly, for residents not matching in couple, the rank-ordered list is a list of programs in order from most to least preferable.<ref>http://www.nrmp.org/res_match/about_res/algorithms.html</ref>  For couples, the rank-ordered list is a list of pairs of schools (or a single school and "No match").<ref>http://www.nrmp.org/res_match/special_part/us_seniors/couples.html</ref>  In some cases, applicants may also submit secondary lists to simultaneously apply for programs that begin in the second year of residency.

=== Simple case ===
In order to understand how the current NRMP algorithm works, it is helpful to begin by considering the simpler case where there are no couples or secondary programs.

As in the [[stable marriage problem]], the basic goal in the simple case of the hospitals/residents problem is to match applicants to hospitals so that the final result is "stable". "Stability" in this case means that there is no applicant A and hospital H such that both of the following are true:
* A is unmatched or would prefer to go to H over the hospital he is currently matched with
* H has a free slot or would prefer A over one of the candidates currently filling one of its slots.<ref>Gusfield "Stable Marriage" 38</ref>

It can be shown that for any instance of the problem, there is at least one valid solution.<ref>Gusfield "Stable Marriage" 41</ref>  Under the old (pre-1995) NRMP algorithm, which favored hospitals over residents, in certain cases hospitals could benefit from lying about their preferences, but that is no longer true under the new system.  In neither system can a resident or coalition of residents benefit simply by lying about their preferences, even if they have perfect knowledge of everyone's preferences.<ref>Gusfield "Stable Marriage" 59</ref>  (Of course, both systems are susceptible to other forms of collusion.  For example, if two applicants apply to the same program, the weaker is still capable of bribing the stronger into ranking the program lower on his list than he would otherwise.)

Under the current system, it is impossible for an applicant to be harmed by including more residency programs at the bottom of his list if those programs are indeed preferable to not being matched.<ref>http://tedlab.mit.edu/~dr/nrmp.html</ref>

=== Couples ===
Adding couples who submit joint preference lists complicates the problem significantly.  In some cases there exists no stable solution (with stable defined similarly to the way it is in the simple case).  In fact, the problem of determining whether there is a stable solution and finding it if it exists has been proven [[NP-complete]].<ref>Gusfield "Stable Marriage" 54 gives an example of a situation with no stable solution and states that proof of NP completeness comes from {{cite journal|last=Ronn|first=Eytan|title=NP-complete stable matching problems|journal=Journal of Algorithms|year=1990|month=June|volume=11|issue=2|pages=285–304|doi=10.1016/0196-6774(90)90007-2|issn=0196-6774}}</ref>  As a result, the algorithm used by the NRMP is not strictly guaranteed to return a result in a reasonable amount of time, even if one exists.  Also, while there is no randomization in the NRMP algorithm—so it will always return the same output when given exactly the same input<ref>Roth "Redesign" 759</ref>-- different outcomes can be produced by changing trivial features of the data such as the order in which applicants and programs are processed.    However in initial testing of the algorithm over 5 years of residency match data and a variety of different initial conditions, the current NRMP algorithm always terminated quickly on a stable solution.<ref>Roth "Redesign" 757</ref>  Testing also showed that "none of [the trivial] sequencing decisions had a large or systematic effect on the matching produced"—the maximum number of applicants ever observed to be affected in a single run was 12 out of 22,938.<ref>Roth "Redesign" 758</ref>

In general ''once the hospitals' preference lists have been set'', there is no way for an applicant to match into a better position by deciding to match in a couple.  For example, if a very strong applicant and a very weak applicant match as a couple, there is no mechanism ''in the algorithm'' that allows the stronger applicant to somehow improve the desirability of the weaker applicant.<ref name="full_alg_description">{{cite journal|last=Roth|first=Alvin|coauthors=Elliott Peranson|title=The Redesign of the Matching Market for American Physicians: Some Engineering Aspects of Economic Design|journal=The American Economic Review|year=1999|month=September|volume=89|issue=4|pages=756–757|url=http://www.bepress.com/cgi/viewcontent.cgi?article=1016&context=wilson|accessdate=14 October 2010}}</ref>  (Of course, if the hospitals know that the stronger and weaker applicant are matching together prior to the run of the algorithm, they are always free to change their preference lists accordingly, which will obviously affect the final outcome.) Ensuring the members of the couple end up in compatible programs is essentially achieved by matching them individually and having them turn down programs, moving on to less desirable ones until their positions are acceptable, though the algorithm does not function exactly in this way.<ref name="full_alg_description"/>  As a result, all else being equal, couples are relatively likely to be matched with less desirable programs than they would have been had they decided to match individually.

However, it is not impossible for couples to match into better positions than they would have individually.  First, since the algorithm does depend on some arbitrary factors (e.g. the order in which applicants are processed), one or both of the individuals could end up in a better position by chance alone, although this is extremely unlikely.  Second, anything that affects the hospitals' preference lists prior to the run of the algorithm will obviously affect the final outcome, as in the case with the strong and weak applicant above.  There is also some belief<ref>http://www.urmc.rochester.edu/smd/gme/prospective/radiation_oncology/applicant_information/documents/couplesmatchguide.doc</ref> that being a part of a couple may be appealing in and of itself.

== Failure to match ==

It is possible for a medical student to not be matched to a program. Until the 2010 match, students who did not match went through a process called the Scramble.<ref name="soap">http://www.nrmp.org/soap.pdf</ref> In this process, students were forced to apply en masse to whatever programs remained available, frequently having to change their intended specialty in the process. This worked in the following fashion: at noon the day after Match Day, the NRMP released a list of unfilled programs. Students would then apply both directly and through ERAS (Electronic Residency Application Service, the same process used for the Match) in substantial chaos.<ref name="sdn-scramble-1">http://studentdoctor.net/2010/10/using-soap-to-clean-up-the-scramble/</ref> Four days after the Match, the Scramble ended. Most residencies filled within the first few hours of the Scramble, and nearly all in the first 48 hours.<ref name="soap"/><ref name="sdn-scramble-1"/> Scrambling was extremely competitive: in 2008, roughly 13,000 students scrambled for only 1,388 residencies.<ref name="sdn-scramble-2">http://studentdoctor.net/2009/03/the-scramble-how-it-works-and-how-it-can-be-improved/</ref>

This process was widely seen as needlessly stressful and in need of improvement, and thus after the 2010 match the Scramble was replaced with the Supplemental Offer and Acceptance Program, or SOAP.<ref name="soap"/> SOAP functions with eight rounds of matching following the main Match Day match, and creates a systematic way for non-matched students to find residencies without the chaos of the Scramble.<ref name="soap-faq">http://www.nrmp.org/res_match/faq/us_seniors_faq.html</ref> The primary changes were as follows: all matching takes place under the NRMP (no direct matching allowed, as with the Scramble), all matching uses ERAS, and unmatched applicant data and unmatched program data is released at the same time, not program data a day later, as before, among other changes.<ref name="sdn-scramble-1"/>

==International medical graduates==
To participate in the NRMP, an [[international medical graduate]] is required to have an [[ECFMG certification]] (not required of M.D. graduates of Canadian medical schools, who are not considered IMGs in the U.S.)<ref>[http://www.nrmp.org/res_match/special_part/ind_app/verif_new.html nrmp.org > Independent Applicants] Updated 09/08/2010.</ref> by the "rank order list certification deadline" time (usually in February of the year of the match).<ref>[http://www.nrmp.org/res_match/yearly.html nrmp.org > 2012 Main Match Schedule] Updated 05/19/2011</ref> 

To acquire an ECFMG certification, the main requirements are:<ref>[http://www.ecfmg.org/2011ib/ibcert.html ecfmg.org > ECFMG Certification] Last update: September 15, 2010</ref> 
*Completion of [[USMLE Step 1]], [[USMLE Step 2 Clinical Knowledge]] and [[USMLE Step 2 Clinical Skills]]
*A [[medical diploma]] of [[medical education]] taken at an institution registered in the [[International Medical Education Directory]] (IMED)
In comparison, regular graduates from medical schools in the United States or Canada need to complete USMLE Steps 1 and 2 as well, but can participate in the NRMP while still doing their final year of medical school before acquiring their medical diplomas.<ref>[http://www.nrmp.org/res_match/special_part/us_seniors/registration.html nrmp.org > U.S. Seniors > Registering with the NRMP] Updated August 2010</ref> In effect, taking regular administrative delays into account, and with residency programs starting around July, there is a gap of at least half a year for IMGs between graduation from medical school and beginning of a residency program, in contrast to US graduates who may start residency directly after completing medical school.

==References==
{{reflist}}

==External links==
*[http://www.nrmp.org/ Official website]
*[http://kuznets.fas.harvard.edu/~aroth/jama.html A Market Economics perspective]
*[http://www.siam.org/pdf/news/305.pdf A SIAM Mathematics Society article]

{{Medical education in the United States}}

[[Category:Combinatorics]]
[[Category:Cooperative games]]
[[Category:Game theory]]
[[Category:Matching]]
[[Category:Mathematical problems]]
[[Category:Medical education in the United States]]
[[Category:Medical and health organizations based in the United States]]